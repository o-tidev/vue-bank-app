{"version":3,"sources":["webpack:///./src/views/Auth.vue","webpack:///./src/use/login-form.js","webpack:///./src/views/Auth.vue?80ab","webpack:///./src/views/Auth.vue?15b3"],"names":["class","onSubmit","eError","type","id","email","eBlur","placeholder","pError","password","pBlur","disabled","isSubmitting","isOverAttempting","useLoginForm","useForm","handleSubmit","submitCount","store","useStore","router","useRouter","useField","yup","trim","required","value","errorMessage","handleBlur","MIN_VALUE","min","values","dispatch","push","computed","watch","setTimeout","setup","render","__scopeId"],"mappings":"8OAEI,eAA4D,MAAxDA,MAAM,eAAc,mCAA+B,G,6BAyBjDA,MAAM,e,wEA1Bd,eA8BO,QA9BDA,MAAM,OAAQ,SAAM,8CAAU,EAAAC,UAAA,EAAAA,SAAA,qBAAQ,e,CAC1C,EAGA,eAIM,OAJAD,MAAK,oCAA0C,EAAAE,U,gBACjD,eAAuG,SAAhGF,MAAM,gBAAgBG,KAAK,QAAQC,GAAG,Q,qDAAiB,EAAAC,MAAK,IAAG,OAAI,8BAAE,EAAAC,OAAA,EAAAA,MAAA,qBAAOC,YAAY,S,mBAAjC,EAAAF,SAEjD,EAAAH,Q,iBAAb,eAA0C,yBAAjB,EAAAA,QAAM,I,0BAInC,eAIM,OAJAF,MAAK,oCAA0C,EAAAQ,U,gBACjD,eAAmH,SAA5GR,MAAM,gBAAgBG,KAAK,WAAWC,GAAG,W,qDAAoB,EAAAK,SAAQ,IAAG,OAAI,8BAAE,EAAAC,OAAA,EAAAA,MAAA,qBAAOH,YAAY,Y,mBAApC,EAAAE,YAEvD,EAAAD,Q,iBAAb,eAAyC,yBAAjB,EAAAA,QAAM,I,0BAKlC,eAIS,UAHLR,MAAM,cACNG,KAAK,SAAUQ,SAAU,EAAAC,cAAgB,EAAAC,kBAAmB,WAEhE,gBAGgC,EAAAA,kB,iBAAhC,eAEO,OAFP,EAAkD,yC,sICpB/C,SAASC,IAAe,MACuBC,iBAA5CC,EADqB,EACrBA,aAAcJ,EADO,EACPA,aAAcK,EADP,EACOA,YAE9BC,EAAQC,iBACRC,EAASC,iBAJc,EAOqCC,eAChE,QACAC,SAEGC,OACAC,SAAS,yBACTpB,MAAM,yBANIA,EAPc,EAOrBqB,MAA4BxB,EAPP,EAOPyB,aAAkCrB,EAP3B,EAOesB,WASpCC,EAAY,EAhBS,EAmBwCP,eACnE,WACAC,SAEGC,OACAC,WACAK,IAAID,EAJP,6CAIwDA,EAJxD,iBAFapB,EAnBc,EAmBrBiB,MAA+BlB,EAnBV,EAmBJmB,aAAkCjB,EAnB9B,EAmBkBkB,WASzC3B,EAAWe,EAAY,yDAAC,WAAMe,GAAN,0GAEhBb,EAAMc,SAAS,aAAcD,GAFb,OAGtBX,EAAOa,KAAK,KAHU,0GAAD,uDAWvBpB,EAAmBqB,gBAAS,kBAAMjB,EAAYS,OAAS,KAY7D,OAVAS,eAAMtB,GAAkB,SAACa,GACnBA,GACFU,YAAW,WACPnB,EAAYS,MAAQ,IAGrB,QAIA,CACLrB,QACAI,WACAP,SACAM,SACAF,QACAI,QACAT,WACAW,eACAC,oBD7BW,OAEXwB,MAFW,WAIP,yBAAWvB,O,UErCnB,EAAOwB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf","file":"js/chunk-a997ae86.a4319e1d.js","sourcesContent":["<template>\n  <form class=\"card\" @submit.prevent=\"onSubmit\">\n    <h1 class=\"auth-header\">Hello user, you need it log in.</h1>\n\n    <!-- email validation  -->\n    <div :class=\"['form-control', 't-margin', { invalid: eError }]\">\n        <input class=\"input-styling\" type=\"email\" id=\"email\" v-model=\"email\" @blur=\"eBlur\" placeholder=\"Email\">\n        <!-- conditional error render -->\n        <small v-if=\"eError\" >{{ eError }}</small>\n    </div>\n\n    <!-- password validation  -->\n    <div :class=\"['form-control', 't-margin', { invalid: pError }]\">\n        <input class=\"input-styling\" type=\"password\" id=\"password\" v-model=\"password\" @blur=\"pBlur\" placeholder=\"Password\">\n        <!-- // conditional error render -->\n        <small v-if=\"pError\">{{ pError }}</small>\n    </div>\n\n\n    <!-- gets disabled while async submitting in excess -->\n    <button \n        class=\"btn primary\" \n        type=\"submit\" :disabled=\"isSubmitting || isOverAttempting \">\n        Log in\n    </button>\n\n    <!-- conditional rendering of the component appears only when button user is over attempting to login -->\n    <span class=\"text-danger\" v-if=\"isOverAttempting\">\n        Too many attemps, please try later\n    </span>\n\n  </form>\n</template>\n\n<script>\n// hook import from use\nimport { useLoginForm } from '../use/login-form' \n\nexport default {\n    // using composition api for better usability\n    setup() {\n        // importing a login function as a hook \n        return {...useLoginForm()}\n    }\n}\n</script>\n\n<style scoped>\n.form-control input,\n.form-control select,\n.form-control textarea{\n    font-family: Inter, Roboto, Oxygen, Fira Sans, Helvetica Neue, sans-serif;\n    margin: 0;\n    border: none;\n    border-bottom: 2px solid black;\n    border-radius: 0px;\n    display: block;\n    width: 100%;\n    color: #2c3e50;\n    padding: 0.5rem 1.5rem;\n    font-size: 1rem;\n    resize: none;\n}\n\n.input-styling {\n    padding: 20px !important;\n}\n\n.t-margin {\n    margin-top: 30px;\n}\n.btn {\n    border-radius: 0px;\n    margin-top: 15px;\n}\n\n.primary {\n    color: white;\n    background: black;\n    border: none\n}\n\n.card {\n    margin-top: 150px;\n    border-radius: 0px;\n}\n\n.auth-header {\n    text-align: center;\n}\n</style>","import { computed, watch } from \"vue\";\nimport * as yup from \"yup\";\nimport { useField, useForm } from \"vee-validate\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\n// composition api \nexport function useLoginForm() {\n  const { handleSubmit, isSubmitting, submitCount } = useForm();\n\n  const store = useStore()\n  const router = useRouter()\n\n    // email validation settings with yup  \n  const { value: email, errorMessage: eError, handleBlur: eBlur } = useField(\n    \"email\",\n    yup\n      .string()\n      .trim()\n      .required(\"please enter an email\")\n      .email(\"need a correct email\")\n  );\n\n    const MIN_VALUE = 6\n    \n    // password validation settings with yup \n  const { value: password, errorMessage: pError, handleBlur: pBlur } = useField(\n    \"password\",\n    yup\n      .string()\n      .trim()\n      .required()\n      .min(MIN_VALUE, `please, pass has to be longer than ${MIN_VALUE} characters`)\n  );\n\n  const onSubmit = handleSubmit(async values => {\n    try {\n          await store.dispatch(\"auth/login\", values);\n          router.push(\"/\");\n    } catch(e) {\n\n    }\n  });\n\n    // over attempting (3) gets the button disabled for a certain \n    // period of time\n  const isOverAttempting = computed(() => submitCount.value >= 3);\n\n  watch(isOverAttempting, (value) => {\n    if (value) {\n      setTimeout(() => {\n          submitCount.value = 0;\n          // button get enabled after some time, \n          // described in the timeout\n      }, 2000);\n    }\n  });\n\n  return {\n    email,\n    password,\n    eError,\n    pError,\n    eBlur,\n    pBlur,\n    onSubmit,\n    isSubmitting,\n    isOverAttempting,\n  };\n}\n","import { render } from \"./Auth.vue?vue&type=template&id=0519c236&scoped=true\"\nimport script from \"./Auth.vue?vue&type=script&lang=js\"\nexport * from \"./Auth.vue?vue&type=script&lang=js\"\n\nimport \"./Auth.vue?vue&type=style&index=0&id=0519c236&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0519c236\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Auth.vue?vue&type=style&index=0&id=0519c236&scoped=true&lang=css\""],"sourceRoot":""}