{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?0090"],"names":["class","for","value","loading","request","back","title","fullname","phone","currency","amount","type","status","id","remove","hasChanges","update","setup","store","route","router","dispatch","params","push","data","components","AppPage","AppLoader","AppStatus","render"],"mappings":"2IAGW,eAAgC,cAAxB,mBAAe,G,EACvB,eAA6B,cAArB,gBAAY,G,EACpB,eAA+B,cAAvB,kBAAc,G,EACtB,eAA+B,cAAvB,kBAAc,G,iBAAS,M,GAE7BA,MAAM,gB,EACP,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAEtB,eAAuC,UAA/BC,MAAM,QAAO,aAAS,G,EAC9B,eAAsC,UAA9BA,MAAM,UAAS,UAAM,G,EAC7B,eAAsC,UAA9BA,MAAM,UAAS,UAAM,G,EAC7B,eAAwC,UAAhCA,MAAM,WAAU,WAAO,G,SAQhCF,MAAM,0B,8HArBC,EAAAG,S,iBAAlB,eAA4B,YACc,EAAAC,S,iBAA1C,eAmBW,G,MAnBDC,KAAA,GAAKC,MAAM,W,yBACjB,iBAA+D,CAA/D,eAA+D,UAA5D,E,eAAgC,KAAE,eAAG,EAAAF,QAAQG,UAAQ,KACxD,eAAyD,UAAtD,E,eAA6B,KAAE,eAAG,EAAAH,QAAQI,OAAK,KAClD,eAAsE,UAAnE,E,eAA+B,KAAE,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KAC9D,eAAyF,UAAtF,E,EAAiC,eAAgD,GAAnCC,KAAM,EAAAP,QAAQQ,Q,mBAE/D,eAQM,MARN,EAQM,CAPF,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CAC/B,EACA,EACA,EACA,G,cAJyB,EAAAA,YAQjC,eAA0D,UAAlDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,UACD,EAAAC,Y,iBAA1C,eAAqE,U,MAA7Df,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAA0B,W,mDAG1D,eAEK,KAFL,EAA0C,wBAClB,eAAG,EAAAH,IAAK,gBAChC,I,gHAYW,G,UAAA,CACXI,MADW,WAGP,IAAMd,EAAU,gBAAI,GACde,EAAQ,iBACRC,EAAQ,iBACRC,EAAS,iBACThB,EAAU,eAAI,IACdQ,EAAS,iBAGf,eAAS,wCAAE,2GACPT,EAAQD,OAAQ,EADT,SAEegB,EAAMG,SAAS,mBAAoBF,EAAMG,OAAOT,IAF/D,OAEPT,EAAQF,MAFD,OAGPU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAC9BT,EAAQD,OAAQ,EAJT,4CAOX,IAAMa,EAAa,gBAAS,kBAAMX,EAAQF,MAAMU,SAAWA,EAAOV,SAG5DY,EAAK,yDAAI,8GACLI,EAAMG,SAAS,iBAAkBF,EAAMG,OAAOT,IADzC,OAEXO,EAAOG,KAAK,KAFD,2CAAJ,qDAKLP,EAAK,yDAAI,2GACLQ,EADK,iCACMpB,EAAQF,OADd,IACqBU,OAAQA,EAAOV,MAAOW,GAAIM,EAAMG,OAAOT,KAD5D,SAELK,EAAMG,SAAS,iBAAkBG,GAF5B,OAGXpB,EAAQF,MAAMU,OAASA,EAAOV,MAHnB,2CAAJ,qDAMX,MAAO,CACHC,UACAC,UACAS,GAAIM,EAAMG,OAAOT,GACjBJ,WAAA,KACAK,SACAF,SACAG,aACAC,WAGRS,WAAY,CAAEC,UAAA,KAASC,YAAA,KAAWC,YAAA,QC5EtC,EAAOC,OAASA,EAED","file":"js/chunk-2d0a4783.805fb6c6.js","sourcesContent":["<template>\n    <app-loader v-if=\"loading\"/>\n    <app-page back title=\"request\" v-else-if=\"request\">\n        <p><strong>holder fullname</strong>: {{ request.fullname }}</p>\n        <p><strong>holder phone</strong>: {{ request.phone }}</p>\n        <p><strong>request amount</strong>: {{ currency(request.amount) }}</p>\n        <p><strong>request status</strong>: <app-status :type=\"request.status\"></app-status> </p>\n\n        <div class=\"form-control\">\n            <label for=\"status\">STATUS</label>\n            <select id=\"status\" v-model=\"status\">\n                <option value=\"done\">completed</option>\n                <option value=\"denied\">denied</option>\n                <option value=\"active\">active</option>\n                <option value=\"pending\">pending</option>\n            </select>\n        </div>\n\n        <button class=\"btn danger\" @click=\"remove\">delete</button>\n        <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">update</button>\n\n    </app-page>\n    <h3 v-else class=\"text-center text-white\">\n        a request with id = {{ id }} wasnt found\n    </h3>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport AppPage from '../ui/AppPage.vue'\nimport { useStore } from 'vuex'\nimport AppLoader from '../ui/AppLoader.vue'\nimport AppStatus from '../ui/AppStatus.vue'\nimport { currency } from '../utils/currency'\nimport router from '../router'\nexport default {\n    setup() {\n\n        const loading = ref(true)\n        const store = useStore()\n        const route = useRoute()\n        const router = useRouter()\n        const request = ref({})\n        const status = ref()\n\n\n        onMounted( async() => {\n            loading.value = true\n            request.value = await store.dispatch('request/loadById', route.params.id)\n            status.value = request.value?.status\n            loading.value = false\n        })\n\n        const hasChanges = computed(() => request.value.status !== status.value)\n\n\n        const remove = async () => {\n            await store.dispatch('request/remove', route.params.id)\n            router.push('/')\n        }\n\n        const update = async() => {\n            const data = {...request.value, status: status.value, id: route.params.id}\n            await store.dispatch('request/update', data)\n            request.value.status = status.value\n        }\n\n        return {\n            loading,\n            request,\n            id: route.params.id,\n            currency,\n            remove,\n            status,\n            hasChanges,\n            update\n        }\n    },\n    components: { AppPage, AppLoader, AppStatus }\n}\n</script>\n\n<style>\n\n</style>","import { render } from \"./Request.vue?vue&type=template&id=01154bee\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}